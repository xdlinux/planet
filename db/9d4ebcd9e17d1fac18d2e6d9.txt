<blockquote><h1>Chapter 17 - Reaction ååº”</h1>
<p>ååº”ï¼ˆReactionsï¼‰æ˜¯è¿™æ ·çš„ä¸€ç§ä¸œè¥¿ï¼š</p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230124221854869-52977036.png" alt="image" /></p>
<p>ä½ å¯ä»¥è¿™æ ·ä¸ºä¸€æ¡æ¶ˆæ¯æ·»åŠ ååº”ï¼š</p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230124221912227-851394996.png" alt="image" /></p>
<p>ä¸æ˜¯ä»»ä½•æ¶ˆæ¯éƒ½å¯ä»¥è¢«æ·»åŠ ååº”çš„ã€‚æ¯”å¦‚ç®¡ç†å‘˜è®¾ç½®äº†æˆå‘˜åœ¨æŸäº›é¢‘é“ä¸å…è®¸æ·»åŠ ååº”ï¼Œæˆ–è€…åªå…è®¸æŸäº›èº«ä»½ç»„çš„äººå¯ä»¥ä¸ºæŸäº›æ¶ˆæ¯æ·»åŠ ååº”ã€‚</p>
<p>è¿™æ ·çœ‹æ¥ï¼Œâ€œååº”â€ å°±æ˜¯ä¸€ç§ emoji å›å¤ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹æœºå™¨äººå¦‚ä½•ä¸ºä¸€æ¡æ¶ˆæ¯è¯†åˆ«ã€æ·»åŠ å’Œç§»é™¤ååº”ã€‚</p>
<h3>Discord Emoji çš„ç§ç±»</h3>
<p>åœ¨ Discord é‡Œï¼Œemoji æœ‰ä¸¤ç±»ï¼Œä¸€ç§æ˜¯è·¨å¹³å°ã€è·¨è½¯ä»¶ã€è·¨è®¾å¤‡éƒ½é€šç”¨çš„ Unicode æ ‡å‡† emojiï¼Œè¿˜æœ‰ä¸€ç§æ˜¯ Discord è‡ªå®šä¹‰ emojiã€‚å‰è€…å±äº unicode æ ‡å‡†ï¼Œä¸€ä¸ªè¡¨æƒ…å±äºä¸€ä¸ªå­—ç¬¦ï¼Œåè€…åˆ™ä¸å±äº unicode æ ‡å‡†ï¼Œåªé™åœ¨ Discord å¹³å°é‡Œæµé€šã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥ä¸¾ä¸ªä¾‹å­ï¼š</p>
<p>å¾®ç¬‘ ğŸ™‚ æ˜¯ä¸€ä¸ª Unicode emojiï¼Œåœ¨ discord é‡Œï¼Œå®ƒå¯è¢«è®°ä¸º <code>:smile:</code>ã€‚</p>
<p>æˆ‘ä»¬åœ¨æœåŠ¡å™¨è®¾ç½®é‡Œä¸Šä¼ äº†ä¸ªè‡ªå·±çš„è¡¨æƒ…ï¼Œå« <code>:WumpusMistletoe2:</code>ã€‚</p>
<p>ä¸‹é¢å°±æ˜¯å¯¹è¡¨æƒ…ååº”çš„ç¤ºä¾‹å›¾ï¼š</p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230124222209218-1136736470.png" alt="image" /></p>
<h3>ç»™æœåŠ¡å™¨ä¸Šä¼ ä¸€ä¸ªè¡¨æƒ…ç¬¦å·</h3>
<p>å‡è®¾ä½ çš„æœåŠ¡å™¨æ²¡æœ‰ä»»ä½•è¡¨æƒ…ç¬¦å·ï¼Œå¦‚æœä½ æœ‰ï¼Œå¯ä»¥è·³è¿‡ä¸Šä¼ è¿™ä¸€æ­¥ï¼Œç›´æ¥è·³åˆ°è·å– idã€‚</p>
<p>æ‰“å¼€ Discordï¼Œç‚¹å‡»ä¸€ä¸ªä½ æ‹¥æœ‰ç®¡ç†å‘˜æˆ–æœä¸»èº«ä»½çš„æœåŠ¡å™¨ï¼Œæ‰“å¼€æœåŠ¡å™¨è®¾ç½®ï¼Œç‚¹å‡» â€œè¡¨æƒ…ç¬¦å·â€ é€‰é¡¹å¡ï¼Œä¸Šä¼ ä¸€ä¸ªè¡¨æƒ…ç¬¦å·å¹¶å‘½åã€‚æ¯”å¦‚æˆ‘ä»¬é€‰æ‹©äº†ä¸€å¼  Wumpus å›¾ç‰‡ä¸Šä¼ ï¼Œå¹¶å‘½åä¸º â€œWumpusMistletoe2â€ã€‚</p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230124222242340-743465457.png" alt="image" /></p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230124222229823-1884263309.png" alt="image" /></p>
<blockquote>
<p>æ³¨æ„ï¼Œä¸åŒæœåŠ¡å™¨é‡Œçš„è¡¨æƒ…åå­—å¯ä»¥é‡å¤ï¼Œä½†æ˜¯å®ƒä»¬çš„ id å°†ä¸ä¼šç›¸åŒã€‚å½“æœºå™¨äººä½¿ç”¨ .find() é€šè¿‡åå­—å¯»æ‰¾è¡¨æƒ…æ—¶ï¼Œè¯¥æ–¹æ³•æ€»ä¼šè¿”å›å®ƒæ‰¾åˆ°çš„ç¬¬ä¸€é¡¹ï¼Œè¿™å¯èƒ½ä¸ä½ æ‰€æœŸæœ›çš„è¡¨æƒ…ä¸åŒ¹é…ã€‚</p>
</blockquote>
<h3>è·å–è¡¨æƒ… id</h3>
<p>ç›¸åŒçš„å›¾ç‰‡åœ¨ç›¸åŒçš„æœåŠ¡å™¨é‡Œä¸Šä¼ ï¼Œä¹Ÿä¼šå¾—åˆ°ä¸åŒçš„ idã€‚è¿™æ˜¯å› ä¸º Discord çš„ id æ˜¯ Snowflake å€¼ã€‚å…·ä½“å…³äº Discord snowflake idï¼Œæˆ‘åœ¨ç³»åˆ—æ–‡ç«  Chapter 6 çš„æœ€åä»‹ç»è¿‡ï¼Œè¿™é‡Œä¸é‡å¤ä»‹ç»ã€‚</p>
<h4>æ–¹æ³•ä¸€</h4>
<p>æ¥ä¸‹æ¥å›åˆ°æœåŠ¡å™¨èŠå¤©åŒºè·å–è¡¨æƒ… idã€‚</p>
<p>å»¶ç»­ä¸Šä¸€æ­¥ä¸¾ä¾‹çš„ä¾‹å­ã€‚åœ¨èŠå¤©æ¡†è¾“å…¥ <code>\:WumpusMistletoe2:</code> å¹¶å›è½¦å‘é€ï¼Œä½ çš„æ¶ˆæ¯ä¼šè¢«è‡ªåŠ¨æ›¿æ¢æˆè¡¨æƒ… idã€‚ï¼š</p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230125124039064-1376380584.png" alt="image" /></p>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±è·å–åˆ°æœ¬ä¾‹ä¸­å…³é”®çš„ idï¼š <code>&lt;:WumpusMistletoe2:1067024784057184266&gt;</code>ã€‚</p>
<p>ä¸è¦å¤åˆ¶æˆ‘çš„ idï¼Œè¿™ä¸ª id åªåœ¨æˆ‘çš„æœåŠ¡å™¨é‡Œæœ‰æ•ˆã€‚</p>
<h4>æ–¹æ³•äºŒ</h4>
<p>æ‰“å¼€ PC ç«¯æµè§ˆå™¨ï¼ŒæŒ‰ä¸‹ <code>Ctrl + Shift + C</code>ï¼Œå°†é¼ æ ‡æŒ‡å‘ä½ éœ€è¦è·å– id çš„è¡¨æƒ…å›¾æ ‡ä¸Šï¼Œå•å‡»ã€‚</p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230125124113720-849754551.png" alt="image" /></p>
<p>åœ¨å¼€å‘è€…å·¥å…·ä¸­ï¼Œä½ èƒ½çœ‹åˆ°é«˜äº®åŒºåŸŸä»£ç é‡Œçš„ alt å€¼æ˜¯ <code>:WumpusMistletoe2:</code>ï¼Œdata-id å€¼æ˜¯ <code>1067024784057184266</code>ã€‚å°†å…¶ç”¨æ ¼å¼ &lt;:alt:data-id&gt; ç»„åˆä¸€ä¸‹å°±å¾—åˆ°äº†å…³é”®çš„ä¿¡æ¯ï¼š <code>&lt;:WumpusMistletoe2:1067024784057184266&gt;</code>ã€‚</p>
<h3>å‘ index.js æ·»åŠ å…³é”® GatewayBitField</h3>
<h1><strong>è¿™å¾ˆé‡è¦ï¼ï¼</strong></h1>
<p>ç»™ client å¢åŠ ä¸€ä¸ª <code>GatewayIntentBits.GuildMessageReactions</code>ï¼Œè¿™æ ·æ‰å¯ä»¥è·å–æ¶ˆæ¯çš„ååº”ã€‚</p>
<p>ä¿®æ”¹åçš„é‚£ä¸€è¡Œå¦‚ä¸‹ï¼š</p>
<pre><code>...
const client = new Client({ intents: [GatewayIntentBits.Guilds, GatewayIntentBits.GuildMessages, GatewayIntentBits.MessageContent, GatewayIntentBits.GuildMessageReactions] });
...
</code></pre>
<p>å…·ä½“çš„ commitï¼š
Github: https://github.com/wtflmao/discord_bot_example/commit/dfbad3ca953e2ca25ac4673fbcea3a549eff9c77
Gitee: https://gitee.com/wtflmao/discord_bot_example/commit/dfbad3ca953e2ca25ac4673fbcea3a549eff9c77</p>
<blockquote>
<p>P.S. è¿™é‡Œæˆ‘ä»¬åœ¨ index.js åªä½¿ç”¨ä¸€ä¸ª Client å®ä¾‹å¹¶èµ‹äºˆæ‰€æœ‰å¯èƒ½ç”¨åˆ°çš„ Intentsï¼Œåç»­äº¤äº’å¤ç”¨è¿™ä¸ªå®ä¾‹ï¼Œå…¶å®æ˜¯ä¸€ç§å·æ‡’ä¸”å…·æœ‰æ½œåœ¨é£é™©çš„åšæ³•ã€‚å»ºè®®ä¸è¦å­¦æˆ‘è¿™ä¹ˆåšã€‚ä½†æ˜¯æˆ‘ä»¬çš„ä»£ç å·²ç»éƒ½è¿™æ ·äº†ï¼Œä½•å†µæˆ‘åªæ˜¯ä»¥å­¦ä¹ ä¸ºç›®çš„çš„å†™è¿™ä¸ªé¡¹ç›®ï¼Œæ²¡æ‰“ç®—ç›´æ¥ä¸Šç”Ÿäº§ç¯å¢ƒï¼Œé‚£å°±è®©å®ƒç»´æŒç°åœ¨è¿™æ ·çš„å±å±±çŠ¶æ€å§å“ˆå“ˆã€‚</p>
</blockquote>
<h3>å›å¤è¡¨æƒ…</h3>
<p>ä¸‹é¢ä¿®æ”¹æ–‡ä»¶ <code>/cmdPaths.js</code>ï¼Œåœ¨ data åŸŸé‡ŒåŠ å…¥æ–°çš„ä¸€æ¡ "./commands/reactions"ã€‚</p>
<pre><code>module.exports = {
    data: ["./commands", "./commands/utils", "./commands/buttons", "./commands/menus", "./commands/modals", "./commands/contextMenus", "./commands/embeds", "./commands/reactions"],
};
</code></pre>
<p>æ–°å»ºæ–‡ä»¶ <code>/commands/reactions/reaction.js</code>ï¼š</p>
<pre><code>const { SlashCommandBuilder} = require('discord.js');

module.exports = {
    data: new SlashCommandBuilder()
        .setName('react')
        .setDescription('Replies with reaction!'),
    async execute(interaction) {

        const message = await interaction.reply({ content: 'You can react with Unicode emojis!', fetchReply: true });
        await message.react('ğŸ˜„');

        const message2 = await interaction.followUp({ content: "Here's a custom emoji!", fetchReply: true });
        await message2.react('&lt;:WumpusMistletoe2:1067024784057184266&gt;');
    },
...
</code></pre>
<p>è¿è¡Œ /reactï¼Œå¾—åˆ°ç»“æœï¼š</p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230124222348664-314695206.png" alt="image" /></p>
<blockquote>
<p>.react() è¿˜æ”¯æŒå¤šç§ä¸åŒæ ¼å¼çš„ä¼ å…¥å€¼ï¼Œæ¯”å¦‚
meaasge.react("&lt;:WumpusMistletoe2:1067024784057184266&gt;");
meaasge.react("&lt;a:WumpusMistletoe2:1067024784057184266&gt;");
meaasge.react("a:WumpusMistletoe2:1067024784057184266");
meaasge.react("WumpusMistletoe2:1067024784057184266");
meaasge.react("1067024784057184266");</p>
</blockquote>
<p>ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨ <code>.find()</code> æ¥ç”¨è¡¨æƒ…åç§°å¯»æ‰¾ä¸€ä¸ªè¡¨æƒ…ã€‚</p>
<pre><code>...
        const message3 = await interaction.followUp({ content: "Here we grab an emoji by its name", fetchReply: true });
        await message3.react(message3.guild.emojis.cache.find(emoji =&gt; emoji.name === 'WumpusMistletoe2'));
...
</code></pre>
<p>æ•ˆæœå›¾ï¼š</p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230124222404785-1141340977.png" alt="image" /></p>
<p>ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨ <code>.get()</code> æ¥ç”¨çº¯æ•°å­— id æŒ‡å®šä¸€ä¸ªè¡¨æƒ…ã€‚</p>
<pre><code>...
        const message4 = await interaction.followUp({ content: "Here we grab an emoji by its id", fetchReply: true });
        // Emoji must be a string or GuildEmoji/ReactionEmoji
        await message4.react(interaction.client.emojis.cache.get('1067024784057184266'));
...
</code></pre>
<p>æ•ˆæœå›¾ï¼š</p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230124222416426-220121391.png" alt="image" /></p>
<p>æˆ‘ä»¬å¾—åˆ°äº† <code>commands/reactions/reaction.js</code> çš„å®Œæ•´ä»£ç ï¼š</p>
<pre><code>const { SlashCommandBuilder} = require('discord.js');

module.exports = {
    data: new SlashCommandBuilder()
        .setName('react')
        .setDescription('Replies with reaction!'),
    async execute(interaction) {

        const message = await interaction.reply({ content: 'You can react with Unicode emojis!', fetchReply: true });
        await message.react('ğŸ˜„');

        const message2 = await interaction.followUp({ content: "Here's a custom emoji!", fetchReply: true });
        await message2.react('&lt;:WumpusMistletoe2:1067024784057184266&gt;');

        const message3 = await interaction.followUp({ content: "Here we grab an emoji by its name", fetchReply: true });
        await message3.react(message3.guild.emojis.cache.find(emoji =&gt; emoji.name === 'WumpusMistletoe2'));

        const message4 = await interaction.followUp({ content: "Here we grab an emoji by its id", fetchReply: true });
        // Emoji must be a string or GuildEmoji/ReactionEmoji
        await message4.react(interaction.client.emojis.cache.get('1067024784057184266'));
    },
};
</code></pre>
<h3>å¤šè¡¨æƒ…çš„æŒ‰é¡ºåºé€ä¸ªååº”</h3>
<p>ç”¨ <code>commands/reactions/multiReactions.js</code> æ¥ä¸¾ä¾‹ï¼š</p>
<pre><code>const { SlashCommandBuilder} = require('discord.js');

module.exports = {
    data: new SlashCommandBuilder()
        .setName('multireact')
        .setDescription('Replies with reaction!'),
    async execute(interaction) {
        const message = await interaction.reply({ content: 'You can react with Unicode emojis!', fetchReply: true });
        // "c u m" in order
        // the first way to do this is using serial .then() on the previous .react()
        await message.react('ğŸ‡¨')
            .then(() =&gt; message.react('ğŸ‡º')
                .then(() =&gt; message.react('ğŸ‡²')
                    .then(() =&gt; message.react('â—'))));

        const msg = await interaction.channel.send({ content: 'AHHhhhhhhHHHhh', fetchReply: true });
        // the second way to do this, is using paralleled .then() on the msg
        await msg.react('ğŸ‡¸')
            .then(() =&gt; msg.react('ğŸ‡­'))
            .then(() =&gt; msg.react('ğŸ‡®'))
            .then(() =&gt; msg.react('ğŸ‡¹'));

        // the third way to do this is using .react() multiple times
        const menu = await interaction.channel.send({ content: 'Library search result:\n\n\tThe Art of War, Sun Tzu, Filiquarian 2017, PDF\n\tMinecraft: The Shipwreck, C. B. Lee, Del Ray 2020, Paperback\n\tand more...\n\nPage 1/4', fetchReply: true });
        await menu.react('â¬…ï¸');
        await menu.react('1ï¸âƒ£');
        await menu.react('2ï¸âƒ£');
        await menu.react('3ï¸âƒ£');
        await menu.react('4ï¸âƒ£');
        await menu.react('â¡ï¸');
    },
};
</code></pre>
<p>è¡¨æƒ…ä¼šæŒ‰é¡ºåºé€ä¸ªæ·»åŠ åˆ°æŒ‡å®šçš„æ¶ˆæ¯ä¸Šå»ã€‚</p>
<p>æ•ˆæœå›¾ï¼š</p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230124222436755-471884608.png" alt="image" /></p>
<h3>å¤šè¡¨æƒ…çš„æ— ç‰¹å®šé¡ºåºååº”</h3>
<p>ç”¨ <code>commands/reactions/multiReactions2.js</code> æ¥ä¸¾ä¾‹ï¼š</p>
<pre><code>const { SlashCommandBuilder} = require('discord.js');

module.exports = {
    data: new SlashCommandBuilder()
        .setName('multireact2')
        .setDescription('Replies with reaction!'),
    async execute(interaction) {
        const message = await interaction.reply({ content: 'You can react with Unicode emojis!', fetchReply: true });

        Promise.all([
            message.react('ğŸ‡¨'),
            message.react('ğŸ‡º'),
            message.react('ğŸ‡²'),
            message.react('â—'),
            message.react('ğŸ‡¸'),
            message.react('ğŸ‡­'),
            message.react('ğŸ‡®'),
            message.react('ğŸ‡¹'),
        ])
            .catch(error =&gt; console.error('One of the emojis failed to react:', error));
    },
};
</code></pre>
<p>æ•ˆæœå›¾ï¼š</p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230124222449548-985445736.png" alt="image" /></p>
<h3>ç§»é™¤è¡¨æƒ…ååº”</h3>
<blockquote>
<p>æ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½éœ€è¦æœºå™¨äººåœ¨æœåŠ¡å™¨é‡Œæœ‰ ManageMessages æƒé™ã€‚è¯·ç¡®ä¿ä½ çš„æœºå™¨äººå…·æœ‰æƒé™ï¼Œå¦åˆ™å®ƒå°†å‡ºé”™ã€‚</p>
</blockquote>
<blockquote>
<p><strong>ç¡®ä¿ä¸è¦è¿‡å¤šåœ°åˆ é™¤è¡¨æƒ…ç¬¦å·æˆ–ç”¨æˆ·çš„ååº”ã€‚å¦‚æœçŸ­æ—¶é—´å†…æ·»åŠ æˆ–åˆ é™¤äº†å¾ˆå¤šååº”ï¼Œå®ƒå¯ä»¥è¢«è®¤ä¸ºæ˜¯ API æ»¥ç”¨ã€‚</strong></p>
</blockquote>
<h4>æŒ‰è¡¨æƒ…ç§»é™¤ååº”</h4>
<pre><code>message.reactions.cache.get('ğŸ‡«').remove()
	.catch(error =&gt; console.error('Failed to remove reactions:', error));
</code></pre>
<p>ä¸‹é¢ç»™å‡º <code>commands/reactions/rmReaction.js</code> :</p>
<pre><code>const { SlashCommandBuilder} = require('discord.js');

module.exports = {
    data: new SlashCommandBuilder()
        .setName('rmreact')
        .setDescription('Replies with reaction!'),
    async execute(interaction) {

        const message = await interaction.reply({ content: 'You can react with Unicode emojis!', fetchReply: true });
        await message.react('ğŸ˜„');
        await message.react('ğŸ†’');
        await message.react('ğŸ˜ƒ');
        await message.react('ğŸ˜•');

        message.reactions.cache.get('ğŸ†’').remove()
            .catch(error =&gt; console.error('Failed to remove reactions:', error));
    },
};
</code></pre>
<p>æ•ˆæœçš„è¯ï¼Œè¯»ä»£ç å°±è¡Œï¼Œå¾ˆå¥½æ‡‚çš„ã€‚</p>
<h4>æŒ‰ç”¨æˆ·ç§»é™¤ååº”</h4>
<pre><code>// è·å–ç”¨æˆ· id ä¸º â€œuserIdâ€ çš„ç”¨æˆ·å¯¹æ¶ˆæ¯ â€œmessageâ€ æ‰€æœ‰çš„ååº”
const userReactions = message.reactions.cache.filter(reaction =&gt; reaction.users.cache.has(userId));

try {
	// éå†è¿™äº›ååº”ï¼Œå¹¶ä»æ¶ˆæ¯åº•ä¸‹ç§»é™¤
	for (const reaction of userReactions.values()) {
		await reaction.users.remove(userId);
	}
} catch (error) {
	console.error('Failed to remove reactions.');
}

</code></pre>
<h4>ç§»é™¤æ¶ˆæ¯å…¨éƒ¨ååº”</h4>
<pre><code>message.reactions.removeAll()
	.catch(error =&gt; console.error('Failed to clear reactions:', error));
</code></pre>
<h3>ç­‰å¾…ååº”</h3>
<p>ä½¿ç”¨æ›¾ç»ç”¨è¿‡çš„ Collector å¯ä»¥è½»æ¾è§£å†³è¿™ä¸ªé—®é¢˜ã€‚åœ¨å’±ä»¬çš„å¦ä¸€ä¸ªé¡¹ç›® guess_the_number (https://github.com/wtflmao/guess_the_number) é‡Œï¼Œæˆ‘ä»¬å·²ç»ç”¨è¿‡äº†ç®€å•çš„æ¶ˆæ¯æ”¶é›†å™¨ (https://www.cnblogs.com/hhzm/p/16508453.html) ï¼›åœ¨ Chapter 12 æŒ‰é’®çš„ collectorï¼ŒæŠŠå®ƒä»¬æ‹¿æ¥æ”¹æˆé€‚ç”¨äºè¡¨æƒ…ååº”äº‹ä»¶çš„æ”¶é›†å™¨ä¹Ÿæ˜¯å¾ˆå®¹æ˜“çš„ã€‚</p>
<p>ä¸‹é¢ç»™å‡º <code>commands/reactions/collectReaction.js</code> ï¼š</p>
<pre><code>const { SlashCommandBuilder } = require('discord.js');

module.exports = {
    data: new SlashCommandBuilder()
        .setName('collectreact')
        .setDescription('Replies with reaction!'),
    async execute(interaction) {

        const message = await interaction.reply({ content: 'You can react with a thumbs UP or a thumbs DOWN.', fetchReply: true })
        message.react('ğŸ‘').then(() =&gt; message.react('ğŸ‘').then(() =&gt; message.react('ğŸ˜‹')));
        const filter = (reaction, user) =&gt; {
            return (['ğŸ‘', 'ğŸ‘','ğŸ˜‹'].includes(reaction.emoji.name)) &amp;&amp; (user.id === interaction.user.id);
        };

        const collector = message.createReactionCollector({ filter, time: 10000 });

        collector.on('collect', (reaction, user) =&gt; {
            console.log(`Collected ${reaction.emoji} from ${user}`);
        });

        collector.on('end', collected =&gt; {
            if (collected.size === 0) {
                message.reply("Nothing valid you've reacted.");
                return;
            }

            collected.forEach(reaction =&gt; {
                if (reaction.emoji.name === 'ğŸ‘') {
                    interaction.channel.send('You reacted with a thumbs UP.');
                } else if (reaction.emoji.name === 'ğŸ‘') {
                    interaction.channel.send('You reacted with a thumbs DOWN.');
                } else {
                    interaction.channel.send('You reacted with a YUM.');
                }
            })
        });
    },
};
</code></pre>
<p>æ•ˆæœå›¾ï¼š</p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230124222637643-85320352.png" alt="image" /></p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230124222643342-919030606.png" alt="image" /></p>
<p>ä¸Šé¢çš„ä»£ç å†™èµ·æ¥å¾ˆç¹çã€‚å¹¸å¥½æˆ‘ä»¬è¿˜æœ‰ç®€å•çš„å†™æ³•ã€‚</p>
<p>ä¸‹é¢ç»™å‡º <code>commands/reactions/awaitReact.js</code> çš„ä»£ç ï¼š</p>
<pre><code>const { SlashCommandBuilder } = require('discord.js');

module.exports = {
    data: new SlashCommandBuilder()
        .setName('awaitreact')
        .setDescription('Replies with reaction!'),
    async execute(interaction) {

        const message = await interaction.reply({ content: 'You can react with a thumbs UP or a thumbs DOWN.', fetchReply: true })
        message.react('ğŸ‘').then(() =&gt; message.react('ğŸ‘').then(() =&gt; message.react('ğŸ˜‹')));
        const filter = (reaction, user) =&gt; {
            return (['ğŸ‘', 'ğŸ‘','ğŸ˜‹'].includes(reaction.emoji.name)) &amp;&amp; (user.id === interaction.user.id);
        };

		// æ³¨æ„è¿™é‡Œçš„ errors: ['time'] ä¸è¦å¿˜äº†
        await message.awaitReactions({ filter, time: 10000, errors: ['time'] })
            .then(collected =&gt; {
                collected.forEach(reaction =&gt; {
                    if (reaction.emoji.name === 'ğŸ‘') {
                        interaction.channel.send('You reacted with a thumbs UP.');
                    } else if (reaction.emoji.name === 'ğŸ‘') {
                        interaction.channel.send('You reacted with a thumbs DOWN.');
                    } else {
                        interaction.channel.send('You reacted with a YUM.');
                    }
                })
            })
            .catch(() =&gt; {
                interaction.channel.send("Nothing valid you've reacted.");
            });
    },
};
</code></pre>
<p>æ•ˆæœå›¾ï¼š</p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230124222701824-1624056038.png" alt="image" /></p>
<p><img src="https://img2023.cnblogs.com/blog/2455224/202301/2455224-20230124222754424-506222329.png" alt="image" /></p>
<p>åˆ©ç”¨ <code>message.awaitReactions([options])</code> æ¥ä»£æ›¿ <code>message.createReactionCollector([options])</code> è¦æ›´ç®€å•æ˜äº†ã€‚</p></blockquote>
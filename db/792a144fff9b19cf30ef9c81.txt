<hr /><h1><a id="content-目录" href="https://blog.lsy223622.com/archives/25/#content-%E7%9B%AE%E5%BD%95" class="heading-permalink" aria-hidden="true" title="Permalink"></a>目录</h1>
<ul class="table-of-contents">
<li>
<a href="https://blog.lsy223622.com/archives/25/#content-%E7%9B%AE%E5%BD%95">目录</a>
</li>
<li>
<a href="https://blog.lsy223622.com/archives/25/#content-%E5%B9%B6%E4%B8%8D%E6%98%AF%E5%87%BA%E5%8E%82%E5%8D%B3%E5%AE%8C%E7%BE%8E">并不是出厂即完美</a>
</li>
<li>
<a href="https://blog.lsy223622.com/archives/25/#content-%E4%BD%86%E6%98%AF%E6%88%91%E8%83%BD%E8%AE%A9%E5%AE%83%E5%8F%98%E5%BE%97%E6%9B%B4%E5%AE%8C%E7%BE%8E">但是我能让它变得更完美！</a>
<ul>
<li>
<a href="https://blog.lsy223622.com/archives/25/#content-%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6">安装插件</a>
</li>
<li>
<a href="https://blog.lsy223622.com/archives/25/#content-%E4%BF%AE%E6%94%B9%E4%BB%A3%E7%A0%81">修改代码</a>
</li>
<li>
<a href="https://blog.lsy223622.com/archives/25/#content-debug">Debug</a>
</li>
</ul>
</li>
<li>
<a href="https://blog.lsy223622.com/archives/25/#content-%E6%9B%B4%E6%96%B0%E8%AE%B0%E5%BD%95">更新记录</a>
</li>
</ul>
<h1><a id="content-并不是出厂即完美" href="https://blog.lsy223622.com/archives/25/#content-%E5%B9%B6%E4%B8%8D%E6%98%AF%E5%87%BA%E5%8E%82%E5%8D%B3%E5%AE%8C%E7%BE%8E" class="heading-permalink" aria-hidden="true" title="Permalink"></a>并不是出厂即完美</h1>
<ul>
<li>虽然 Typecho 已经是非常简单而且成熟的开源博客程序，这并不代表它不需要修改。</li>
<li>首先是可以安装一些主题和插件。主题之前有单独的文章讲过，这次就不重复了。</li>
<li>在安装一些主题、插件的时候需要手动修改 Typecho 本体代码来实现完整功能。</li>
<li>很多主题、插件存在一些或是自身拥有，或是与其他主题、插件冲突的 bug，也许能从报错找出原因来。</li>
<li>Typecho 是一个很老很老的博客程序了，虽然上次更新距离现在也没有太久，但相对其他软件生态来说确实是没有很能跟上步伐，而且主题、插件大多也是多年前的项目，不一定能随着版本持续更新，于是就会出现不同版本间的兼容问题。</li>
</ul>
<h1><a id="content-但是我能让它变得更完美" href="https://blog.lsy223622.com/archives/25/#content-%E4%BD%86%E6%98%AF%E6%88%91%E8%83%BD%E8%AE%A9%E5%AE%83%E5%8F%98%E5%BE%97%E6%9B%B4%E5%AE%8C%E7%BE%8E" class="heading-permalink" aria-hidden="true" title="Permalink"></a>但是我能让它变得更完美！</h1>
<blockquote>
<p>吹牛罢了（<br/>
啥也不懂只能稍微改改</p>
</blockquote>
<h2><a id="content-安装插件" href="https://blog.lsy223622.com/archives/25/#content-%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6" class="heading-permalink" aria-hidden="true" title="Permalink"></a>安装插件</h2>
<details>
<summary><a href="https://github.com/taotecode/TagSelector" target="_blank">TagSelector</a>：文章编辑页面标签选择器插件</summary>
<blockquote>
<ul>
<li>TagSelector 是一款用于 Typecho 的插件，用于方便地添加和管理文章的标签。这个插件的主要功能是在文章编辑页面添加一个标签选择框，显示所有之前创建过的标签，让你可以直观地看到所有可用的标签。只需点击选择框中的标签，即可快速将其添加到文章的标签输入框中。</li>
<li>使用 Typecho 内建的标签管理功能时，我们经常面临一个问题：每次添加或编辑文章时，我们很难记住之前使用过哪些标签，因此很容易重复创建相似的标签或忘记使用某些标签。这就是 TagSelector 插件诞生的原因。有了这个插件，你可以轻松地查看和选择已有的标签，从而避免了重复创建标签和忘记使用标签的痛点。</li>
</ul>
</blockquote>
<p><img src="https://s11.ax1x.com/2023/05/05/p9NDQit.png" alt="TagSelector" loading="lazy"/></p>
</details>
<details>
<summary><a href="https://github.com/typecho-fans/plugins/tree/master/EditorMD" target="_blank">EditorMD</a>：Markdown 编辑器 <a href="https://pandao.github.io/editor.md/" target="_blank">Editor.md</a> for Typecho</summary>
<blockquote>
<ul>
<li>支持实时预览、代码/表格插入、代码折叠等功能</li>
<li>支持 Emoji 表情</li>
<li>支持 ToC（Table of Contents）、Github Task lists 等 Markdown 扩展语法</li>
<li>支持 TeX 科学公式（基于 KaTeX）、流程图 Flowchart 和 时序图 Sequence Diagram</li>
<li>发布非 Markdown 文章时可禁用该文章 Markdown 解析，以免出现兼容问题。比如使用APlayer插件的纯音乐页面。</li>
</ul>
</blockquote>
</details>
<details>
<summary><a href="https://github.com/mrgeneralgoo/typecho-markdown" target="_blank">MarkdownParse</a>：Markdown 解析插件</summary>
<blockquote>
<p>MarkdownParse 是一款基于 <a rel="noopener noreferrer" href="https://commonmark.thephpleague.com">league/commonmark</a> 的 Typecho Markdown 解析插件，它的特色在于完美符合 <a rel="noopener noreferrer" href="https://spec.commonmark.org">CommonMark</a> 和 GFM（<a rel="noopener noreferrer" href="https://github.github.com/gfm/">GitHub-Flavored Markdown</a>）规范，不仅可以为你提供强大而丰富的功能，同时也能确保你的内容在不同平台上都能展现一致的出色效果。
本插件除了支持 CommonMark 和 GFM 规范内提到的功能（目录、表格、任务列表、脚标等等），MarkdownParse 还具有以下额外特性：</p>
<ol>
<li>
<strong>Mermaid 语法支持：</strong> 可以利用 Mermaid 语法轻松创建各种图表</li>
<li>
<strong>MathJax 数学公式渲染：</strong> 支持使用 MathJax 渲染数学公式</li>
<li>
<strong>智能资源加载：</strong> 根据实际渲染需求，能够智能识别是否加载渲染所需资源，无需担心引入冗余资源</li>
<li>
<strong>图片延迟加载：</strong> 支持浏览器原生的图片延迟加载技术，<a rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/Performance/Lazy_loading">MDN-Lazy loading</a>
</li>
<li>
<strong>文本高亮：</strong> 通过 <code>&amp;lt;mark&amp;gt;</code> HTML 标签实现文本高亮效果，<a rel="noopener noreferrer" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/mark">MDN-Mark</a>
</li>
</ol>
</blockquote>
</details>
<details>
<summary><a href="https://github.com/Mejituu/Links" target="_blank">Links</a>：友情链接插件 by 懵仙兔兔（也就是第三方维护）</summary>
<blockquote>
<p>本版本的友情链接可以支持以下的功能：</p>
<ol>
<li>自建独立数据表，干净无上限的添加友情链接信息。</li>
<li>支持两种输出方式：函数方式，用于主题模板侧边栏等嵌入位置显示；HTML标签方式，用于独立页面等编辑内容显示。</li>
<li>三种输出模式：文字友链、图片友链、图文混合友链等。内设三种默认输出规则，支持自定议设定输出规则。</li>
<li>管理面板：支持友链的分类，拖拽排序以及友链启用禁用等</li>
<li>支持友链邮箱解析头像链接（数字QQ邮箱自动优先解析无QQ号头像链接，其次有QQ号链接。其他邮箱解析Gravatar头像），方便用户添加无图片的友链。</li>
<li>支持增加自定义字段，方便用户做一些个性扩展。</li>
</ol>
</blockquote>
</details>
<details>
<summary><a href="https://github.com/BigCoke233/typecho-plugin-CopyDog" target="_blank">CopyDog</a>：版权狗插件</summary>
<blockquote>
<p>英语里有个词叫做「Copycat」，指的是喜欢模仿、抄袭他人的人；中文里又有个词叫做「版权狗」，指那些喜欢把版权一事挂在嘴边批评别人，以此来显得自己十分伟大光荣正确的那些人。<br/>
而在人们普遍的思想里，猫（Cat）的对立面是狗（Dog），我们不妨把这两个词的意思中和一下，造一个新词「CopyDog」，来指那些真正愿意捍卫版权的人。<br/>
<strong>CopyDog</strong> 是一个简单的 Typecho 插件，它能让你在文章末尾生成一个显示文章版权信息的小卡片，就像这样：<br/>
<img src="https://github.com/BigCoke233/typecho-plugin-CopyDog/raw/main/screenshot.png" alt="CopyDog" loading="lazy"/>
你可能看出来了，这个卡片的设计参考了 Hexo 的 <a rel="noopener noreferrer" href="https://github.com/ppoffice/hexo-theme-icarus">icarus 主题</a>。<br/>
并且这里采用的许可协议是著名的 Creative Commons。</p>
</blockquote>
</details>
<details>
<summary><a href="https://github.com/kokororin/typecho-plugin-Access" target="_blank">Access</a>：获取访客信息，生成统计图表，由<a href="https://zhaiyiming.com/" target="_blank">@一名宅</a> 部分优化重构。</summary>
<blockquote>
<p>提供简易的访客记录查看。获取访客信息，生成统计图表。</p>
<ul>
<li>IP / UV / PV总量统计</li>
<li>来源页 / 域名排名</li>
<li>最受欢迎的文章</li>
<li>国内 / 国际访问地域分析</li>
<li>每日IP / UV / PV统计图表(带均线)</li>
<li>前后端分离，使用CSR方式展示数据</li>
</ul>
</blockquote>
</details>
<details>
<summary><a href="https://github.com/typecho-fans/plugins/tree/master/TeStore" target="_blank">TeStore</a>：读取Github上维护的专用表格实现插件仓库各项功能</summary>
<blockquote>
<p>新GitHub表格解析版插件仓库TeStore v1.1.5</p>
<ul>
<li>以免服务端思路复活这款插件，通过读取GitHub上的专用表格实现插件仓库的搜索、下载和安装删除等功能。</li>
</ul>
</blockquote>
</details>
<details>
<summary><a href="https://github.com/benzBrake/AAEditor" target="_blank">AAEditor</a>：虾米皮皮乐的编辑器</summary>
<blockquote>
<ol>
<li>实时同步预览</li>
<li>额外功能按钮
<ul>
<li>相册排版</li>
<li>任务列表</li>
<li>符号/表情</li>
<li>回复可见</li>
<li>文章引用</li>
<li>按钮</li>
<li>m3u8/mp4播放/哔哩哔哩视频</li>
<li>卡片</li>
<li>多彩按钮</li>
<li>多彩文字</li>
<li>居中标题</li>
<li>折叠卡片</li>
<li>多标签卡片</li>
<li>Github卡片</li>
<li>Codepen卡片</li>
</ul>
</li>
<li>支持增加自定义按钮</li>
<li>链接/图片 markdown 简化</li>
<li>附件插入优化：一键插入所有图片附件</li>
<li>
<del>自动匹配标签功能（来自 AutoTags）</del>
</li>
<li>预览/保存/发布 工具条浮动</li>
</ol>
</blockquote>
</details>
<details>
<summary><a href="https://github.com/journey-ad/Shields-Typecho-Plugin" target="_blank">Shields</a>：为 Typecho 添加 <a href="https://shields.io/" target="_blank">shields.io</a> 支持</summary>
<blockquote>
<ul>
<li>书写语法简洁</li>
<li>支持自定义时长缓存</li>
<li>可配置类型与样式</li>
</ul>
</blockquote>
</details>
<details>
<summary><a href="https://github.com/typecho-fans/plugins/tree/master/Sitemap" target="_blank">Sitemap</a>：Google Sitemap 生成器 【<a href="https://github.com/typecho-fans/plugins" target="_blank">TF</a>社区维护版】</summary>
<blockquote>
<ul>
<li>动态生成符合搜索引擎收录标准的Xml格式站点地图插件，支持输出分类/标签页地址。</li>
<li>Sitemap 可方便站长通知搜索引擎网站上有哪些可供抓取的网页。最简单通行的就是Google制定的XML格式标准，其中可列出网址及其元数据（上次更新时间、更改频率和优先级权重等），便于搜索引擎更高效智能地抓取网站内容。</li>
</ul>
</blockquote>
</details>
<h2><a id="content-修改代码" href="https://blog.lsy223622.com/archives/25/#content-%E4%BF%AE%E6%94%B9%E4%BB%A3%E7%A0%81" class="heading-permalink" aria-hidden="true" title="Permalink"></a>修改代码</h2>
<details>
<summary>添加 CopyDog 卡片和修改卡片字体</summary>
<ol>
<li>
<p>添加卡片</p>
<ul>
<li>编辑 <code>usr/themes/jasmine/post.php</code>
</li>
<li>在 <strong>16</strong> 行的 <code>&amp;lt;?php $this-&gt;content(); ?&amp;gt;</code> 之后写入 <code>&amp;lt;?php $this-&gt;copyDog($this); ?&amp;gt;</code>
</li>
<li>
<a rel="noopener noreferrer" href="https://github.com/BigCoke233/typecho-plugin-CopyDog/blob/main/README.md#%E4%BD%BF%E7%94%A8" title="参考文档">参考文档</a>
</li>
</ul>
</li>
<li>
<p>修改卡片字体</p>
<ul>
<li>编辑 <code>usr/plugins/CopyDog/style.css</code>
</li>
<li>在 <strong>16</strong> 行的 <code>font-family: </code> 与 <code>-apple-system</code> 中间插入 <code>HarmonyOS-Sans,</code>
</li>
<li>修改后的这一行代码：</li>
</ul>
<pre><code class="language-css">font-family: HarmonyOS-Sans,-apple-system,BlinkMacSystemFont,Segoe UI,system-ui,Roboto,PingFang SC,Hiragino Sans GB,Source Han Sans SC,Noto Sans CJK SC,Noto Sans SC,WenQuanYi Micro Hei,WenQuanYi Zen Hei,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;
</code></pre>
</li>
<li>
<p>效果展示</p>
</li>
</ol>
<p><img src="https://blog.lsy223622.com/usr/uploads/2024/05/1694562549.png" alt="Preview" loading="lazy"/></p>
</details>
<details>
<summary>简化页脚</summary>
<p>根据 Jasmine 主题的<a rel="noopener noreferrer" href="https://github.com/liaocp666/Jasmine/blob/main/README.md#%E8%AE%B8%E5%8F%AF%E5%8D%8F%E8%AE%AE" title="许可协议">许可协议</a>：</p>
<blockquote>
<ul>
<li>您可以删除页脚的作者信息。</li>
<li>您必须在页脚保留 Jasmine 主题的名称及其链接。</li>
</ul>
</blockquote>
<ul>
<li>所以编辑 <code>usr/themes/jasmine/footer.php</code>
</li>
<li>删除 <strong>11</strong> 行的 <code> by &amp;lt;a href=&#34;https://www.liaocp.cn/&#34; title=&#34;Kent Liao&#34; target=&#34;_blank&#34;&amp;gt;Kent Liao&amp;lt;/a&amp;gt;</code>
</li>
</ul>
</details>
<details>
<summary>把 Gravatar 地址替换为国内 Cravatar</summary>
<ul>
<li>
<p><a rel="noopener noreferrer" href="https://gravatar.com/">Gravatar</a> 头像服务很好用，有个邮箱就能有对应的头像，在国际互联网上使用率还蛮高的</p>
</li>
<li>
<p>但又因为各种各样的原因，国内并不能直接访问 Gravatar 的头像源，头像很有可能加载不出来</p>
</li>
<li>
<p>于是出现了很多第三方的 Gravatar 镜像，头像链接格式不变，替换一下网址就能在国内正常访问</p>
</li>
<li>
<p>在搜集到的 Gravatar 镜像中，我选择了测试速度最快最稳定的 Cravatar。它其实并不完全是 Gravatar 的镜像，而是国内和 Gravatar 类似的一个头像服务。但当请求的邮箱在数据库里没有对应头像的时候，它会从 Gravatar 获取并缓存，所以也可以当作 Gravatar 镜像用</p>
</li>
<li>
<p>Typecho 代码中的 Gravatar 网址是官方源，所以编辑 <code>var/Typecho/Common.php</code></p>
</li>
<li>
<p>把 <strong>836</strong> 行的两个网址替换成 <code>cravatar.cn</code></p>
</li>
<li>
<p>注意：由于 Cravatar 并不是真正的镜像服务，它从 Gravatar 同步头像图片的频率是很低的（可能要等一个月）。所以如果想要立即看到更换后的头像，可以在它的<a rel="noopener noreferrer" href="https://cravatar.cn/avatars">头像管理页面</a>上传头像，使用方法和 Gravatar 大同小异。或者也可以改用下表中除了 Cravatar、WeAvatar 和 Gravatar 官方源以外的镜像地址，它们同步频率比较高</p>
</li>
<li>
<p>附我找到并测试可用的镜像网址列表：</p>
</li>
</ul>
<table>
<tbody><tr>
<th>名称</th>
<th>网址</th>
<th>图片测试</th>
<th>评价</th>
</tr>
<tr>
<td>Gravatar</td>
<td><a href="https://gravatar.com/avatar/c52883ffeeb1ae43c8a2f456b3284ef3?s=1200" target="_blank">https://gravatar.com/avatar/</a></td>
<td><img src="https://gravatar.com/avatar/c52883ffeeb1ae43c8a2f456b3284ef3?s=1200" alt="显示失败" style="max-height:100px;"/></td>
<td>官方头像源，但是不好访问</td>
</tr>
<tr>
<td>Cravatar</td>
<td><a href="https://cravatar.cn/avatar/c52883ffeeb1ae43c8a2f456b3284ef3?s=1200" target="_blank">https://cravatar.cn/avatar/</a></td>
<td><img src="https://cravatar.cn/avatar/c52883ffeeb1ae43c8a2f456b3284ef3?s=1200" alt="显示失败" style="max-height:100px;"/></td>
<td>国内的仿 Gravatar 服务，同时提供 Gravatar 镜像，我测试下来最快最稳定</td>
</tr>
<tr>
<td>WeAvatar</td>
<td><a href="https://weavatar.com/avatar/c52883ffeeb1ae43c8a2f456b3284ef3?s=1200" target="_blank">https://weavatar.com/avatar/</a></td>
<td><img src="https://weavatar.com/avatar/c52883ffeeb1ae43c8a2f456b3284ef3?s=1200" alt="显示失败" style="max-height:100px;"/></td>
<td>和 Cravatar 一样的服务，速度慢一点但也比较稳定，画质比 Cravatar 差一些</td>
</tr>
<tr>
<td>SM.MS</td>
<td><a href="https://gravatar.loli.net/avatar/c52883ffeeb1ae43c8a2f456b3284ef3?s=1200" target="_blank">https://gravatar.loli.net/avatar/</a></td>
<td><img src="https://gravatar.loli.net/avatar/c52883ffeeb1ae43c8a2f456b3284ef3?s=1200" alt="显示失败" style="max-height:100px;"/></td>
<td>老牌图床，可用性应该不会有问题，不过速度不是很稳定，而且尺寸参数被它无视了</td>
</tr>
<tr>
<td>Geekzu</td>
<td><a href="https://sdn.geekzu.org/avatar/c52883ffeeb1ae43c8a2f456b3284ef3?s=1200" target="_blank">https://sdn.geekzu.org/avatar/</a></td>
<td><img src="https://sdn.geekzu.org/avatar/c52883ffeeb1ae43c8a2f456b3284ef3?s=1200" alt="显示失败" style="max-height:100px;"/></td>
<td>我测下来没上面几个快，但至少能用</td>
</tr>
<tr>
<td>sep.cc</td>
<td><a href="https://cdn.sep.cc/avatar/c52883ffeeb1ae43c8a2f456b3284ef3?s=1200" target="_blank">https://cdn.sep.cc/avatar/</a></td>
<td><img src="https://cdn.sep.cc/avatar/c52883ffeeb1ae43c8a2f456b3284ef3?s=1200" alt="显示失败" style="max-height:100px;"/></td>
<td>同样，慢但是能用</td>
</tr>
<tr>
<td>WebP Cloud</td>
<td><a href="https://gravatar.webp.se/avatar/c52883ffeeb1ae43c8a2f456b3284ef3?s=1200" target="_blank">https://gravatar.webp.se/avatar/</a></td>
<td><img src="https://gravatar.webp.se/avatar/c52883ffeeb1ae43c8a2f456b3284ef3?s=1200" alt="显示失败" style="max-height:100px;"/></td>
<td>号称压缩成体积小的 WebP 格式，但实际上反而是最慢的一个</td>
</tr>
</tbody></table>
</details>
<h2><a id="content-debug" href="https://blog.lsy223622.com/archives/25/#content-debug" class="heading-permalink" aria-hidden="true" title="Permalink"></a>Debug</h2>
<details>
<summary>修正友链页面在苹果设备的头像尺寸异常</summary>
<ul>
<li>
<p>原版 Jasmine 主题的友链页面在苹果设备上查看会出现友链头像尺寸异常大且布局混乱的情况</p>
</li>
<li>
<p>解决方法：</p>
<ul>
<li>
<p>编辑 <code>usr/themes/jasmine/page-links.php</code></p>
</li>
<li>
<p>删除 <strong>29</strong> 行的 <code>min-w-fit min-h-fit</code></p>
</li>
<li>
<p>修改后的这一行代码：</p>
<pre><code class="language-html">&amp;lt;img src=&#34;{image}&#34;class=&#34;w-14 h-14 rounded-full&#34; loading=&#34;lazy&#34;&amp;gt;
</code></pre>
</li>
</ul>
</li>
<li>
<p>感谢小北学长发现和提供解决方法</p>
</li>
</ul>
</details>
<details>
<summary>临时允许动态属性以避免 Atom 聚合输出报错</summary>
<ul>
<li>在 PHP 8.2 中<a rel="noopener noreferrer" href="https://wiki.php.net/rfc/deprecate_dynamic_properties" title="动态属性已弃用">动态属性已弃用</a>
</li>
<li>可以使用 <code>AllowDynamicProperties</code> 类来<a rel="noopener noreferrer" href="https://www.php.net/manual/zh/class.allowdynamicproperties.php" title="允许动态属性">允许动态属性</a>
</li>
<li>Typecho 1.2.1 是 2023 年发布的，但是没有兼容 PHP 8.2 在 2021 年投票作出的这个改动，所以在访问 <a href="https://blog.lsy223622.com/feed/atom/" title="Atom 聚合输出">Atom 聚合输出</a>时会出现报错</li>
<li>解决方法：
<ul>
<li>编辑 <code>var/Typecho/Widget/Request.php</code>
</li>
<li>在 <strong>11</strong> 行 <code>class Request</code> 前增加一行，插入 <code>#[\AllowDynamicProperties]</code>
</li>
</ul>
</li>
</ul>
</details>
<details>
<summary>修正友链名称中过长单词不能正常换行导致长度溢出</summary>
<ul>
<li>原版 Jasmine 主题友链页面的卡片中友链名称在含有英文单词的时候不会在单词中间断行，所以长单词会导致所在行长度溢出，现象如下：
<img src="https://blog.lsy223622.com/usr/uploads/2024/05/2876920829.png" alt="Phenomenon" loading="lazy"/>
</li>
<li>解决方法：
<ul>
<li>
<p>打开 <strong>Typecho 后台-控制台-外观-设置外观</strong></p>
</li>
<li>
<p>在<strong>自定义样式</strong>添加如下代码：</p>
<pre><code class="language-css">.word-break {
    word-break: break-all;
}
</code></pre>
</li>
<li>
<p>编辑 <code>usr/themes/jasmine/page-links.php</code></p>
</li>
<li>
<p>在 <strong>32</strong> 行的 <code>class=&#34;text-sm &#34;</code> 里面添加 <code>word-break</code></p>
</li>
<li>
<p>修改后的这一行代码：</p>
<pre><code class="language-html">&amp;lt;h4 class=&#34;text-sm word-break&#34;&amp;gt;{name}&amp;lt;/h4&amp;gt;
</code></pre>
</li>
</ul>
</li>
</ul>
</details>
<details>
<summary>修改 Feed 代码以兼容 <a href="https://github.com/xdlinux/planet" target="_blank">xdu-planet</a></summary>
<ul>
<li>
<a rel="noopener noreferrer" href="https://github.com/xdlinux/planet">xdu-planet</a> 是学长写的一个简单的 RSS 博客聚合站，使用 <code>Golang+Vue3+ElementPlus</code> 构建，借助 GitHub Action 实现自动更新 Feed 数据并生成页面，并由 GitHub Pages 呈现</li>
<li>上面都是<del>同学</del>网友，于是我也去凑了热闹</li>
<li>但把 feed 链接 pr 上去之后，我发现展示的并不是我的完整文章，而是文章的简短摘要</li>
<li>我先是把 <a href="https://blog.lsy223622.com/feed/">rss</a> 链接换成了 <a href="https://blog.lsy223622.com/feed/atom/">atom</a> 链接，但效果还是没有变化</li>
<li>在对 xdu-planet 后端代码的胡乱分析（因为不会 go）之后，感觉应该是在获取文章内容的时候没有对正文的变量名进行判断，只是照着位置获取了 <del>（这段我也不知道怎么表达清楚反正大概就是这个意思）</del>
</li>
<li>和别人博客的 feed 对比之后，我发现和他们的相比，我的 <code>&amp;lt;content&amp;gt;</code> 前面还有一个 <code>&amp;lt;summary&amp;gt;</code>
</li>
<li>于是我编辑 <code>var/Typecho/Feed.php</code>
</li>
<li>把 <strong>332~335</strong> 行输出 <code>&amp;lt;summary&amp;gt;</code> 的代码注释掉了：</li>
</ul>
<pre><code class="language-php">/**
                if (!empty($item[&#39;excerpt&#39;])) {
                    $content .= &#39;&amp;lt;summary type=&#34;html&#34;&amp;gt;&amp;lt;![CDATA[&#39; . htmlspecialchars($item[&#39;excerpt&#39;])
                        . &#39;]]&amp;gt;&amp;lt;/summary&amp;gt;&#39; . self::EOL;
                }
*/
</code></pre>
<ul>
<li>完美解决问题~</li>
</ul>
</details>
<h1><a id="content-更新记录" href="https://blog.lsy223622.com/archives/25/#content-%E6%9B%B4%E6%96%B0%E8%AE%B0%E5%BD%95" class="heading-permalink" aria-hidden="true" title="Permalink"></a>更新记录</h1>
<ul>
<li>2024-05-14 第一次发布</li>
<li>2024-05-15 增加：修正友链名称中过长单词不能正常换行导致长度溢出</li>
<li>2024-05-16 增加：插件 <code>TeStore</code>
</li>
<li>2024-05-17 增加：插件 <code>AAEditor</code> <code>Shields</code> <code>Sitemap</code>
</li>
<li>2024-05-20 增加：修改 Feed 代码以兼容 xdu-planet</li>
<li>2024-05-28 增加：把 Gravatar 地址替换为国内 Cravatar</li>
</ul>

